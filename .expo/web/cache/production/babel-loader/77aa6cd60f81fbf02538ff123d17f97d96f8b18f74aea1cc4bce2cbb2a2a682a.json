{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';import AsyncStorage from'@react-native-async-storage/async-storage';import{jsx as _jsx}from\"react/jsx-runtime\";export const ClockSettingsContext=createContext({clockOpacity:1,setClockOpacity:()=>{},clockColor:'#00FF00',setClockColor:()=>{}});export const ClockSettingsProvider=({children})=>{const[clockOpacity,setClockOpacity]=useState(1);const[clockColor,setClockColor]=useState('#00FF00');useEffect(()=>{const loadSettings=async()=>{try{const storedOpacity=await AsyncStorage.getItem('clock_opacity');const storedColor=await AsyncStorage.getItem('clock_color');if(storedOpacity!==null)setClockOpacity(parseFloat(storedOpacity));if(storedColor!==null)setClockColor(storedColor);}catch(e){console.log('Ошибка загрузки настроек часов:',e);}};loadSettings();},[]);useEffect(()=>{const saveSettings=async()=>{try{await AsyncStorage.setItem('clock_opacity',clockOpacity.toString());await AsyncStorage.setItem('clock_color',clockColor);}catch(e){console.log('Ошибка сохранения настроек часов:',e);}};saveSettings();},[clockOpacity,clockColor]);return _jsx(ClockSettingsContext.Provider,{value:{clockOpacity,setClockOpacity,clockColor,setClockColor},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","AsyncStorage","jsx","_jsx","ClockSettingsContext","clockOpacity","setClockOpacity","clockColor","setClockColor","ClockSettingsProvider","children","loadSettings","storedOpacity","getItem","storedColor","parseFloat","e","console","log","saveSettings","setItem","toString","Provider","value"],"sources":["/home/orr/GitHub/Dabbetul-Arz/src/contexts/ClockSettingsContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n/**\n * Контекст настроек для часов и даты.\n * Хранит значения яркости (opacity) и цвета, которые применяются ко всем компонентам часов и даты.\n */\nexport const ClockSettingsContext = createContext({\n  clockOpacity: 1,\n  setClockOpacity: () => {},\n  clockColor: '#00FF00',\n  setClockColor: () => {},\n});\n\nexport const ClockSettingsProvider = ({ children }) => {\n  const [clockOpacity, setClockOpacity] = useState(1);\n  const [clockColor, setClockColor] = useState('#00FF00');\n\n  // Загрузка настроек из AsyncStorage\n  useEffect(() => {\n    const loadSettings = async () => {\n      try {\n        const storedOpacity = await AsyncStorage.getItem('clock_opacity');\n        const storedColor = await AsyncStorage.getItem('clock_color');\n        if (storedOpacity !== null) setClockOpacity(parseFloat(storedOpacity));\n        if (storedColor !== null) setClockColor(storedColor);\n      } catch (e) {\n        console.log('Ошибка загрузки настроек часов:', e);\n      }\n    };\n    loadSettings();\n  }, []);\n\n  // Сохранение настроек при изменении\n  useEffect(() => {\n    const saveSettings = async () => {\n      try {\n        await AsyncStorage.setItem('clock_opacity', clockOpacity.toString());\n        await AsyncStorage.setItem('clock_color', clockColor);\n      } catch (e) {\n        console.log('Ошибка сохранения настроек часов:', e);\n      }\n    };\n    saveSettings();\n  }, [clockOpacity, clockColor]);\n\n  return (\n    <ClockSettingsContext.Provider value={{ clockOpacity, setClockOpacity, clockColor, setClockColor }}>\n      {children}\n    </ClockSettingsContext.Provider>\n  );\n}; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACjE,MAAO,CAAAC,YAAY,KAAM,2CAA2C,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAMrE,MAAO,MAAM,CAAAC,oBAAoB,CAAGN,aAAa,CAAC,CAChDO,YAAY,CAAE,CAAC,CACfC,eAAe,CAAEA,CAAA,GAAM,CAAC,CAAC,CACzBC,UAAU,CAAE,SAAS,CACrBC,aAAa,CAAEA,CAAA,GAAM,CAAC,CACxB,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,qBAAqB,CAAGA,CAAC,CAAEC,QAAS,CAAC,GAAK,CACrD,KAAM,CAACL,YAAY,CAAEC,eAAe,CAAC,CAAGP,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACQ,UAAU,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAC,SAAS,CAAC,CAGvDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAX,YAAY,CAACY,OAAO,CAAC,eAAe,CAAC,CACjE,KAAM,CAAAC,WAAW,CAAG,KAAM,CAAAb,YAAY,CAACY,OAAO,CAAC,aAAa,CAAC,CAC7D,GAAID,aAAa,GAAK,IAAI,CAAEN,eAAe,CAACS,UAAU,CAACH,aAAa,CAAC,CAAC,CACtE,GAAIE,WAAW,GAAK,IAAI,CAAEN,aAAa,CAACM,WAAW,CAAC,CACtD,CAAE,MAAOE,CAAC,CAAE,CACVC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAEF,CAAC,CAAC,CACnD,CACF,CAAC,CACDL,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAGNX,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAlB,YAAY,CAACmB,OAAO,CAAC,eAAe,CAAEf,YAAY,CAACgB,QAAQ,CAAC,CAAC,CAAC,CACpE,KAAM,CAAApB,YAAY,CAACmB,OAAO,CAAC,aAAa,CAAEb,UAAU,CAAC,CACvD,CAAE,MAAOS,CAAC,CAAE,CACVC,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAEF,CAAC,CAAC,CACrD,CACF,CAAC,CACDG,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACd,YAAY,CAAEE,UAAU,CAAC,CAAC,CAE9B,MACE,CAAAJ,IAAA,CAACC,oBAAoB,CAACkB,QAAQ,EAACC,KAAK,CAAE,CAAElB,YAAY,CAAEC,eAAe,CAAEC,UAAU,CAAEC,aAAc,CAAE,CAAAE,QAAA,CAChGA,QAAQ,CACoB,CAAC,CAEpC,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}